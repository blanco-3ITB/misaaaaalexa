{"ast":null,"code":"var _jsxFileName = \"C:\\\\pod system\\\\frontend\\\\src\\\\components\\\\MapInput.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport './MapInput.css';\n\n// Simple Google Places Autocomplete input.\n// Requires REACT_APP_GOOGLE_MAPS_API_KEY in the frontend environment.\n// Props:\n// - value: current string value\n// - onChange: function(text)\n// - onSelect: function({ address, lat, lng }) called when user selects a place\n// - placeholder: optional placeholder text\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst loadScript = (src, id) => {\n  if (document.getElementById(id)) return Promise.resolve();\n  return new Promise((resolve, reject) => {\n    const script = document.createElement('script');\n    script.id = id;\n    script.src = src;\n    script.async = true;\n    script.defer = true;\n    script.onload = resolve;\n    script.onerror = reject;\n    document.head.appendChild(script);\n  });\n};\nconst MapInput = ({\n  value,\n  onChange,\n  onSelect,\n  placeholder = 'Enter address'\n}) => {\n  _s();\n  const inputRef = useRef(null);\n  const [supported, setSupported] = useState(false);\n  useEffect(() => {\n    const key = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n    if (!key) {\n      setSupported(false);\n      return;\n    }\n    const src = `https://maps.googleapis.com/maps/api/js?key=${encodeURIComponent(key)}&libraries=places`;\n    loadScript(src, 'google-maps-places').then(() => {\n      if (!window.google || !window.google.maps || !window.google.maps.places) {\n        setSupported(false);\n        return;\n      }\n      try {\n        const autocomplete = new window.google.maps.places.Autocomplete(inputRef.current, {\n          types: ['geocode']\n        });\n        autocomplete.addListener('place_changed', () => {\n          var _place$geometry$locat, _place$geometry, _place$geometry$locat2, _place$geometry$locat3, _place$geometry$locat4, _place$geometry2, _place$geometry2$loca, _place$geometry2$loca2;\n          const place = autocomplete.getPlace();\n          const address = place.formatted_address || inputRef.current.value;\n          const lat = (_place$geometry$locat = (_place$geometry = place.geometry) === null || _place$geometry === void 0 ? void 0 : (_place$geometry$locat2 = _place$geometry.location) === null || _place$geometry$locat2 === void 0 ? void 0 : (_place$geometry$locat3 = _place$geometry$locat2.lat) === null || _place$geometry$locat3 === void 0 ? void 0 : _place$geometry$locat3.call(_place$geometry$locat2)) !== null && _place$geometry$locat !== void 0 ? _place$geometry$locat : null;\n          const lng = (_place$geometry$locat4 = (_place$geometry2 = place.geometry) === null || _place$geometry2 === void 0 ? void 0 : (_place$geometry2$loca = _place$geometry2.location) === null || _place$geometry2$loca === void 0 ? void 0 : (_place$geometry2$loca2 = _place$geometry2$loca.lng) === null || _place$geometry2$loca2 === void 0 ? void 0 : _place$geometry2$loca2.call(_place$geometry2$loca)) !== null && _place$geometry$locat4 !== void 0 ? _place$geometry$locat4 : null;\n          onSelect && onSelect({\n            address,\n            lat,\n            lng\n          });\n        });\n        setSupported(true);\n      } catch (err) {\n        console.error('Autocomplete init error', err);\n        setSupported(false);\n      }\n    }).catch(err => {\n      console.error('Failed to load Google Maps script', err);\n      setSupported(false);\n    });\n  }, [onSelect]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-input\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      ref: inputRef,\n      type: \"text\",\n      value: value,\n      onChange: e => onChange && onChange(e.target.value),\n      placeholder: placeholder\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), !supported && /*#__PURE__*/_jsxDEV(\"small\", {\n      className: \"map-input-hint\",\n      children: \"Provide `REACT_APP_GOOGLE_MAPS_API_KEY` to enable address autocomplete.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(MapInput, \"Q9oheN4a65KFQwY01HfQMu/4IYg=\");\n_c = MapInput;\nexport default MapInput;\nvar _c;\n$RefreshReg$(_c, \"MapInput\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","loadScript","src","id","document","getElementById","Promise","resolve","reject","script","createElement","async","defer","onload","onerror","head","appendChild","MapInput","value","onChange","onSelect","placeholder","_s","inputRef","supported","setSupported","key","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","encodeURIComponent","then","window","google","maps","places","autocomplete","Autocomplete","current","types","addListener","_place$geometry$locat","_place$geometry","_place$geometry$locat2","_place$geometry$locat3","_place$geometry$locat4","_place$geometry2","_place$geometry2$loca","_place$geometry2$loca2","place","getPlace","address","formatted_address","lat","geometry","location","call","lng","err","console","error","catch","className","children","ref","type","e","target","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/pod system/frontend/src/components/MapInput.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport './MapInput.css';\r\n\r\n// Simple Google Places Autocomplete input.\r\n// Requires REACT_APP_GOOGLE_MAPS_API_KEY in the frontend environment.\r\n// Props:\r\n// - value: current string value\r\n// - onChange: function(text)\r\n// - onSelect: function({ address, lat, lng }) called when user selects a place\r\n// - placeholder: optional placeholder text\r\n\r\nconst loadScript = (src, id) => {\r\n  if (document.getElementById(id)) return Promise.resolve();\r\n  return new Promise((resolve, reject) => {\r\n    const script = document.createElement('script');\r\n    script.id = id;\r\n    script.src = src;\r\n    script.async = true;\r\n    script.defer = true;\r\n    script.onload = resolve;\r\n    script.onerror = reject;\r\n    document.head.appendChild(script);\r\n  });\r\n};\r\n\r\nconst MapInput = ({ value, onChange, onSelect, placeholder = 'Enter address' }) => {\r\n  const inputRef = useRef(null);\r\n  const [supported, setSupported] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const key = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\r\n    if (!key) {\r\n      setSupported(false);\r\n      return;\r\n    }\r\n\r\n    const src = `https://maps.googleapis.com/maps/api/js?key=${encodeURIComponent(key)}&libraries=places`;\r\n    loadScript(src, 'google-maps-places')\r\n      .then(() => {\r\n        if (!window.google || !window.google.maps || !window.google.maps.places) {\r\n          setSupported(false);\r\n          return;\r\n        }\r\n\r\n        try {\r\n          const autocomplete = new window.google.maps.places.Autocomplete(inputRef.current, {\r\n            types: ['geocode'],\r\n          });\r\n\r\n          autocomplete.addListener('place_changed', () => {\r\n            const place = autocomplete.getPlace();\r\n            const address = place.formatted_address || inputRef.current.value;\r\n            const lat = place.geometry?.location?.lat?.() ?? null;\r\n            const lng = place.geometry?.location?.lng?.() ?? null;\r\n            onSelect && onSelect({ address, lat, lng });\r\n          });\r\n\r\n          setSupported(true);\r\n        } catch (err) {\r\n          console.error('Autocomplete init error', err);\r\n          setSupported(false);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error('Failed to load Google Maps script', err);\r\n        setSupported(false);\r\n      });\r\n  }, [onSelect]);\r\n\r\n  return (\r\n    <div className=\"map-input\">\r\n      <input\r\n        ref={inputRef}\r\n        type=\"text\"\r\n        value={value}\r\n        onChange={(e) => onChange && onChange(e.target.value)}\r\n        placeholder={placeholder}\r\n      />\r\n      {!supported && (\r\n        <small className=\"map-input-hint\">Provide `REACT_APP_GOOGLE_MAPS_API_KEY` to enable address autocomplete.</small>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapInput;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}